var a=Object.defineProperty,e=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,t=Object.prototype.propertyIsEnumerable,r=(e,s,t)=>s in e?a(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t,n=(a,n)=>{for(var o in n||(n={}))s.call(n,o)&&r(a,o,n[o]);if(e)for(var o of e(n))t.call(n,o)&&r(a,o,n[o]);return a};import{O as o,P as i,S as c,i as l,s as p,e as u,t as m,c as d,a as y,g as h,d as w,b,f,E as v,h as g,l as j,F as E,C as O,J as T,Q as $}from"./vendor-23c8162e.js";import{v as P}from"./variables-e34b2610.js";const S=async()=>{await N("token"),await N("user"),window.location.replace("/")},z=async(a,e)=>{await o.set(a,e,{expires:7})},N=async a=>{await o.remove(a)},k=async a=>{await z("token",a.token),await z("user",a.user)},x=P.apiLivePath,A=(a,e,s,t)=>{const r="GET"===a||"DELETE"===a;return i(`${x}/${e}`,n({method:`${a}`,headers:n({Accept:"application/json","Content-Type":"application/json"},t?{Authorization:`Bearer ${t}`}:{})},r?null:{body:JSON.stringify(s)})).then((async a=>(await(async a=>{440===a.status&&(await S(),setTimeout((()=>{window.location.replace("/")}),200))})(a),await a.json()))).catch((()=>(setTimeout((async()=>{await S()}),4e3),{status:502,message:"Oops! Something is wrong. Please try later."})))};function D(a){let e,s,t,r,n,o=a[0][0].message+"";return{c(){e=u("div"),s=u("div"),t=u("span"),r=m(o),this.h()},l(a){e=d(a,"DIV",{class:!0});var n=y(e);s=d(n,"DIV",{class:!0,role:!0});var i=y(s);t=d(i,"SPAN",{});var c=y(t);r=h(c,o),c.forEach(w),i.forEach(w),n.forEach(w),this.h()},h(){b(s,"class",n="alert alert-"+a[0][0].messageType+" svelte-5nrwzn"),b(s,"role","alert"),b(e,"class","notification svelte-5nrwzn")},m(a,n){f(a,e,n),v(e,s),v(s,t),v(t,r)},p(a,e){1&e&&o!==(o=a[0][0].message+"")&&g(r,o),1&e&&n!==(n="alert alert-"+a[0][0].messageType+" svelte-5nrwzn")&&b(s,"class",n)},d(a){a&&w(e)}}}function I(a){let e,s=a[0][0]&&D(a);return{c(){s&&s.c(),e=j()},l(a){s&&s.l(a),e=j()},m(a,t){s&&s.m(a,t),f(a,e,t)},p(a,[t]){a[0][0]?s?s.p(a,t):(s=D(a),s.c(),s.m(e.parentNode,e)):s&&(s.d(1),s=null)},i:E,o:E,d(a){s&&s.d(a),a&&w(e)}}}const C=(()=>{const{update:a,subscribe:e}=O([]);return{pop:()=>a((a=>(a.shift(),a))),push:(e,s)=>{s=s||"danger",a((a=>[...a,{message:e,messageType:s}]))},subscribe:e}})();function J(a,e,s){let t,r=E;T(a,C,(a=>s(0,t=a))),a.$$.on_destroy.push((()=>r()));let{duration:n=3e3}=e;const o=$();let i;return C.subscribe((({length:a})=>{!i&&a&&(o("notify",t[0]),i=setTimeout((()=>{i=!1,C.pop()}),n))})),a.$$set=a=>{"duration"in a&&s(1,n=a.duration)},[t,n]}class L extends c{constructor(a){super(),l(this,a,J,I,p,{duration:1})}}export{L as N,A as a,k as b,S as l,C as n};
