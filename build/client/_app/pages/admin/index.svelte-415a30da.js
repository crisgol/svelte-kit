import{S as J,i as K,s as O,e as _,k as S,l as M,U as Q,c as p,d as f,m as A,b as $,H as d,g as I,o as y,p as R,q as w,n as W,w as L,x as T,y as q,B as x,E as X,t as P,a as h,h as z,j as Y}from"../../chunks/index-30349cbd.js";import{T as Z}from"../../chunks/Tabs-dc3f734c.js";import{a as ee,n as te}from"../../chunks/Noti-2cff4241.js";import{L as F}from"../../chunks/Loader-4cfa1ebc.js";import"../../chunks/stores-96b8dbae.js";import"../../chunks/variables-86731e6d.js";import"../../chunks/index-dbf04213.js";function ae(c){let t,s;return t=new F({props:{loaderStatus:c[0],$$slots:{default:[se]},$$scope:{ctx:c}}}),{c(){L(t.$$.fragment)},l(e){T(t.$$.fragment,e)},m(e,a){q(t,e,a),s=!0},p(e,a){const n={};a&1&&(n.loaderStatus=e[0]),a&10&&(n.$$scope={dirty:a,ctx:e}),t.$set(n)},i(e){s||(w(t.$$.fragment,e),s=!0)},o(e){y(t.$$.fragment,e),s=!1},d(e){x(t,e)}}}function re(c){let t,s;return t=new F({}),{c(){L(t.$$.fragment)},l(e){T(t.$$.fragment,e)},m(e,a){q(t,e,a),s=!0},p:X,i(e){s||(w(t.$$.fragment,e),s=!0)},o(e){y(t.$$.fragment,e),s=!1},d(e){x(t,e)}}}function se(c){let t,s,e,a,n,o,v,i,m,r,u,k,E,V,g;return t=new Z({}),{c(){L(t.$$.fragment),s=S(),e=_("div"),a=_("div"),n=_("div"),o=_("div"),v=_("div"),i=_("div"),m=_("div"),r=_("h3"),u=P(c[1]),k=S(),E=_("label"),V=P("Users"),this.h()},l(l){T(t.$$.fragment,l),s=A(l),e=p(l,"DIV",{class:!0});var b=h(e);a=p(b,"DIV",{class:!0});var U=h(a);n=p(U,"DIV",{class:!0});var B=h(n);o=p(B,"DIV",{class:!0});var C=h(o);v=p(C,"DIV",{class:!0});var H=h(v);i=p(H,"DIV",{class:!0});var N=h(i);m=p(N,"DIV",{class:!0});var D=h(m);r=p(D,"H3",{});var j=h(r);u=z(j,c[1]),j.forEach(f),k=A(D),E=p(D,"LABEL",{});var G=h(E);V=z(G,"Users"),G.forEach(f),D.forEach(f),N.forEach(f),H.forEach(f),C.forEach(f),B.forEach(f),U.forEach(f),b.forEach(f),this.h()},h(){$(m,"class","text-center"),$(i,"class","card-body"),$(v,"class","card"),$(o,"class","col-sm"),$(n,"class","row"),$(a,"class","container"),$(e,"class","container")},m(l,b){q(t,l,b),I(l,s,b),I(l,e,b),d(e,a),d(a,n),d(n,o),d(o,v),d(v,i),d(i,m),d(m,r),d(r,u),d(m,k),d(m,E),d(E,V),g=!0},p(l,b){(!g||b&2)&&Y(u,l[1])},i(l){g||(w(t.$$.fragment,l),g=!0)},o(l){y(t.$$.fragment,l),g=!1},d(l){x(t,l),l&&f(s),l&&f(e)}}}function oe(c){let t,s,e,a,n,o;const v=[re,ae],i=[];function m(r,u){return r[0]?1:0}return e=m(c),a=i[e]=v[e](c),{c(){t=_("meta"),s=S(),a.c(),n=M(),this.h()},l(r){const u=Q('[data-svelte="svelte-pgtp5o"]',document.head);t=p(u,"META",{name:!0,content:!0}),u.forEach(f),s=A(r),a.l(r),n=M(),this.h()},h(){document.title="Admin Panel",$(t,"name","robots"),$(t,"content","noindex, nofollow")},m(r,u){d(document.head,t),I(r,s,u),i[e].m(r,u),I(r,n,u),o=!0},p(r,[u]){let k=e;e=m(r),e===k?i[e].p(r,u):(W(),y(i[k],1,1,()=>{i[k]=null}),R(),a=i[e],a?a.p(r,u):(a=i[e]=v[e](r),a.c()),w(a,1),a.m(n.parentNode,n))},i(r){o||(w(a),o=!0)},o(r){y(a),o=!1},d(r){f(t),r&&f(s),i[e].d(r),r&&f(n)}}}async function _e({session:c}){return!c.user||c.user.role!=="admin"?{status:302,redirect:"/"}:{props:{token:c.token}}}function ne(c,t,s){let{token:e}=t,a,n;return(async()=>{try{const o=await ee("GET","admin/stats",{},e);if(s(0,a=o.status?o.status:200),o.status>=400)throw new Error(o.message);return s(1,n=Number(o))}catch(o){te.push(o.message)}})(),c.$$set=o=>{"token"in o&&s(2,e=o.token)},[a,n,e]}class pe extends J{constructor(t){super(),K(this,t,ne,oe,O,{token:2})}}export{pe as default,_e as load};
